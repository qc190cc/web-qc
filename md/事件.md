# 点击事件

### 驱动三要素
1. 事件源：触发事件的元素
2. 事件类型：用户操作的行为
3. 事件处理函数：事件进行时要执行的操作，也叫事件句柄

### 事件的绑定
1. html的事件绑定（这样写html会太乱，不推荐）  ```<input type="button" value="点击" id="btn" onclick="alert(123)">```
 
2. 标准 **DOM0** 级绑定方式（同一个事件源身上的同一个事件类型只能绑定一个,否则会被覆盖）

		btn.onclick=function(){
            alert(1)
        }

3. **DOM2** 级的事件绑定（不兼容IE8及之前的版本），true和false代表捕获和冒泡

	    btn.addEventListener("click",function(){
       		 console.log("dom2 级事件1111")
        },false)
        btn.addEventListener("click",function(){
             console.log("dom2 级事件2222")
        },false) //可以绑定多个，两个console都会输出

4. IE8自己的 DOM2 级绑定方式 

		function abc(){};
	    btn.attachEvent("click",abc)
		btn.detachEvent("click",abc)
### 事件的删除
1. **null**:DOM0 级删除;```btn.onclick=null;```
2. **removeEventListener("",,)**:DOM2 级删除,必须保证创建和删除时的格式一样，所以函数要写在外面，不能直接在括号里创建

		function abc(){
       		alert(123)
        }
        btn.addEventListener("click",abc,false)
        btn.removeEventListener("click",abc,false)

### 事件类型
1. 页面事件 
	- **onload**:不管js是写在哪里都会等页面加载完成才会触发的事件
	```window.onload=function(){ alert(1)}```

    - **onscroll**:页面滚动时触发的事件
    ```window.onscroll=function(){ alert(2)}```

    - **onresize**:页面大小发生改变触发的事件
    ```window.onresize=function(){ alert(3)}```

2. 鼠标事件
	- **onclick**:单击事件(完整的鼠标点击)```dv.onclick=function(){ console.log("单击")}```
	- **ondblclick**:双击事件
	- **onmousedown**:鼠标按下事件```dv.onmousedown=function(){console.log("按下")}```
	- **onmouseup**:鼠标松开事件
	- **onmousemove**:鼠标移动事件（在元素内移动多次次就触发多少次）
	- **onmouseenter**:鼠标移入事件
	- **onmouseleave**:鼠标移出事件(enter和leave不会涉及子元素）
	- **onmouseover**:鼠标移入事件
	- **onmouseout**:鼠标移出事件（和enter、leave的区别：有子元素会频发触发over、out）

3. 表单事件
	- **onfocus**:获得焦点事件```ipt.onfocus=function(){console.log("焦点")}```
	- **onblur**:失去焦点事件
	- **oninput**:输入事件,输入框里操作1次就会触发1次
	- **onchange**:输入框里面内容发生改变事件（失去焦点才会开始检测内容是否有改变）
	- **onselect**:选中文本事件（比如复制的时候）
	- **onsubmit**:表单被提交事件（绑定在form标签），可以return false来阻止表单提交

			<form action="/baidu.com" method="get">
			    <input type="text" name="name">
			    <input id="subBtn" type="submit">
			</form>
			<script>
			    subBtn.onclick = function () {
			        return false //会阻止表单提交
			    }
			</script>

4. 键盘事件（绑定在输入框）
	- **onkeydown**:键盘按下事件
	- **onkeyup**:键盘松开事件
	- **onkeypress**:一次完整的键盘操作事件（相当于鼠标单击事件）
5. 清除事件
    - **null**:把事件设为空,比如停止移动事件
    	```dv.onmousemove=null;```
6. 页面事件
  - **onload**：页面加载完再执行

			window.onload=()=>{
				console.log(1)
			} //页面加载完再输出1，解决引用顺序问题
	
# 事件流
- 事件在页面中传播的顺序

### 分类
1. 冒泡性事件流(IE只支持冒泡)
  - 从目标事件源到浏览器顶层对象
2. 捕获型事件流
  - 从浏览器顶层对象抓捕到目标对象源
3. DOM标准事件流

冒泡和捕获同时存在时先捕获再冒泡


# 事件对象
- **event** ：在写点击事件函数的时候，括号里其实有一个形参为事件对象（event）,但实参是电脑已经设置好了的，里面包含了很多属性```btn.onclick=function(event){console.log(event)}```
- **target**:指向触发事件的元素（不是绑定事件的元素，比如子元素触发就指向子元素）
 ```ipt.onclick=function(event){console.log(event.target)}//指向触发事件的按钮```
- **this**：指向函数所属对象,不是调用对象，不写前缀（有时候会乱指)，所以要指向调用对象一般用event.target
 ```ipt.onclick = function (event) {console.log(this)} //输出id为ipt的那个标签```
- **clientX,clientY**：鼠标相对于文档显示区（会随着滚动条变化）的坐标
	
	    onclick = function (event) {
	    	console.log(event.clientX, event.clientY)
	    }
- **pageX,pageY**:鼠标相对于页面（网页最顶上）的坐标
- **screeX，screeY**:鼠标相对于屏幕的坐标
- **offsetX，offsetY**：相对于事件源的坐标 
- **stopPropagation()**:阻止事件流传播,写在需要阻止的元素身上


	    <div id="box">
	        <p id="inner"></p>
	    </div>
	    <script>
	        box.onclick = function (event) {
	            console.log(1)
	        }
	        inner.onclick = function (event) {
	            event.stopPropagation()//点p就不会触发div的事件
	            console.log("1_1")
	        }
	    </script>
	
			
- **preventDefault();**阻止默认事件，写在需要阻止的元素身上
		
		<a href="baidu.com" id="a">baidu</a>
		<script>
			a.onclick = function (event) {
				event.preventDefault()
			}//不会跳转到baidu.com
		</script> 

键盘  

- **keyCode**：键盘字符的代码，比如回车为13

		ipt.onkeypress=function(event){
            console.log(event.keyCode)
        }//按回车就输出13
- **shiftKey、ctrlKey**：shift和ctrl是否被按住，返回布尔值

        ipt.onkeydown=function(event){
            console.log(event.shiftKey)
        } //按住shift再按其他键就输出true，只按其他键就输出false

##### 事件委托
- 将事件绑定在父级身上，然后委托给子元素去执行

		 <div id="boxS">
	        <span >123</span>
	   	 </div>
        boxS.onclick=function(event){
            if(event.target.nodeName=="SPAN"){
               alert(event.target.innerHTML)
            }
        }	//只有点到span才会弹出提示窗